+ redmine=hpcbio-redmine@igb.illinois.edu
+ '[' 1 '!=' 1 ']'
+ set +x


########################################################################################
#############                BEGIN VARIANT CALLING WORKFLOW              ###############
########################################################################################


++ date
+ echo Fri Oct 14 12:19:12 CDT 2016
Fri Oct 14 12:19:12 CDT 2016
+ scriptfile=/home/groups/hpcbio_shared/azza/H3A_NextGen_assessment_set3/Workflow/BW_VariantCalling/start.sh
+ runfile=/home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/src/variant_calling.Oct2016/sample.runfile
+ '[' '!' -s /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/src/variant_calling.Oct2016/sample.runfile ']'
+ set +x


########################################################################################
#############                CHECKING PARAMETERS                         ###############
########################################################################################


++ cat /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/src/variant_calling.Oct2016/sample.runfile
++ grep -w REPORTTICKET
++ cut -d = -f2
+ reportticket=5747
++ cat /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/src/variant_calling.Oct2016/sample.runfile
++ grep -w OUTPUTDIR
++ cut -d = -f2
+ outputdir=/home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7
++ grep -w TMPDIR
++ cut -d = -f2
+ tmpdir=/home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/tmp
++ cat /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/src/variant_calling.Oct2016/sample.runfile
++ grep -w DELIVERYFOLDER
++ cut -d = -f2
+ deliverydir=delivery
++ cat /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/src/variant_calling.Oct2016/sample.runfile
++ grep -w SCRIPTDIR
++ cut -d = -f2
+ scriptdir=/home/groups/hpcbio_shared/azza/H3A_NextGen_assessment_set3/Workflow/BW_VariantCalling
++ cat /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/src/variant_calling.Oct2016/sample.runfile
++ grep -w EMAIL
++ cut -d = -f2
+ email=aeahmed@illinois.edu
++ cat /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/src/variant_calling.Oct2016/sample.runfile
++ cut -d = -f2
+ sampleinfo=/home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/src/variant_calling.Oct2016/sample.sampleinfo
++ wc -l /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/src/variant_calling.Oct2016/sample.sampleinfo
+ numsamples='1 /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/src/variant_calling.Oct2016/sample.sampleinfo'
++ cat /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/src/variant_calling.Oct2016/sample.runfile
++ grep -w REFGENOMEDIR
++ cut -d = -f2
+ refdir=/home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/data/genome/
++ cat /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/src/variant_calling.Oct2016/sample.runfile
++ grep -w REFGENOME
++ cut -d = -f2
+ refgenome=/HG19_GATKbundle2.8_chr1_chr2_chr3.fa
++ cat /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/src/variant_calling.Oct2016/sample.runfile
++ grep -w DBSNP
++ cut -d = -f2
+ dbSNP=dbsnp_138.hg19.vcf
++ cat /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/src/variant_calling.Oct2016/sample.runfile
++ grep -w SAMPLEPL
++ cut -d = -f2
+ sPL=illumina
++ cat /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/src/variant_calling.Oct2016/sample.runfile
++ grep -w SAMPLECN
++ cut -d = -f2
+ sCN=synthetic
++ cat /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/src/variant_calling.Oct2016/sample.runfile
++ grep -w SAMPLELB
++ cut -d = -f2
+ sLB=synthetic
++ cat /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/src/variant_calling.Oct2016/sample.runfile
++ grep -w DUP_CUTOFF
++ cut -d = -f2
+ dup_cutoff=1
++ cat /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/src/variant_calling.Oct2016/sample.runfile
++ grep -w MAP_CUTOFF
++ cut -d = -f2
+ map_cutoff=95
++ cat /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/src/variant_calling.Oct2016/sample.runfile
++ grep -w CHRNAMES
++ cut -d = -f2
++ tr : ' '
+ indices='chr1 chr2 chr3'
++ cat /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/src/variant_calling.Oct2016/sample.runfile
++ grep -w ANALYSIS
++ cut -d = -f2
++ tr '[a-z]' '[A-Z]'
+ analysis=COMPLETE
++ cat /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/src/variant_calling.Oct2016/sample.runfile
++ grep -w ALIGNERTOOL
++ cut -d = -f2
++ tr '[a-z]' '[A-Z]'
+ alignertool=BWAMEM
++ cat /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/src/variant_calling.Oct2016/sample.runfile
++ grep -w MARKDUPLICATESTOOL
++ cut -d = -f2
++ tr '[a-z]' '[A-Z]'
+ markduplicates=PICARD
++ cat /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/src/variant_calling.Oct2016/sample.runfile
++ grep -w SAMBLASTERDIR
++ cut -d = -f2
+ samblasterdir=/home/apps/samblaster/samblaster-0.1.22/bin
++ cat /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/src/variant_calling.Oct2016/sample.runfile
++ grep -w PICARDIR
++ cut -d = -f2
+ picardir=/home/apps/picard-tools/picard-tools-2.4.1
++ cat /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/src/variant_calling.Oct2016/sample.runfile
++ grep -w GATKDIR
++ cut -d = -f2
+ gatkdir=/home/apps/gatk/gatk-3.6
++ cat /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/src/variant_calling.Oct2016/sample.runfile
++ grep -w SAMDIR
++ cut -d = -f2
+ samtoolsdir=/home/apps/samtools/samtools-1.3.1/bin
++ cat /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/src/variant_calling.Oct2016/sample.runfile
++ grep -w BWAMEMDIR
++ cut -d = -f2
+ bwamemdir=/home/apps/bwa/bwa-0.7.15
++ cat /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/src/variant_calling.Oct2016/sample.runfile
++ grep -w JAVADIR
++ cut -d = -f2
+ javadir=/home/apps/java/jdk1.8.0_65/bin
++ cat /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/src/variant_calling.Oct2016/sample.runfile
++ grep -w NOVOCRAFTDIR
++ cut -d = -f2
+ novocraftdir=/home/apps/novocraft/novocraft-3.02
++ cat /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/src/variant_calling.Oct2016/sample.runfile
++ grep -w FASTQCDIR
++ cut -d = -f2
+ fastqcdir=/home/apps/fastqc/fastqc-0.11.4
++ cat /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/src/variant_calling.Oct2016/sample.runfile
++ grep -w PBSCORES
++ cut -d = -f2
+ thr=23
++ cat /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/src/variant_calling.Oct2016/sample.runfile
++ grep -w PBSNODES
++ cut -d = -f2
+ nodes=1
++ cat /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/src/variant_calling.Oct2016/sample.runfile
++ grep -w PBSQUEUE
++ cut -d = -f2
+ queue=default
++ cat /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/src/variant_calling.Oct2016/sample.runfile
++ grep -w PBSWALLTIME
++ cut -d = -f2
+ pbswalltime=72:00:00
++ expr 76
+ '[' 76 -lt 1 ']'
+ '[' '!' -d /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/data/genome/ ']'
+ '[' '!' -s /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/data/genome///HG19_GATKbundle2.8_chr1_chr2_chr3.fa ']'
+ '[' '!' -s /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/data/genome//dbsnp_138.hg19.vcf ']'
+ [[ -z BWAMEM ]]
+ '[' BWAMEM '!=' BWAMEM -a BWAMEM '!=' BWA_MEM -a BWAMEM '!=' NOVOALIGN ']'
+ '[' -z aeahmed@illinois.edu ']'
++ expr 9
++ expr 8
++ expr 9
+ '[' 9 -lt 1 -o 8 -lt 1 -o 9 -lt 1 ']'
++ expr 1
++ expr 2
+ '[' 1 -lt 1 -o 2 -lt 1 ']'
++ expr 14
+ '[' 14 -lt 1 ']'
+ '[' PICARD '!=' NOVOSORT -a PICARD '!=' SAMBLASTER -a PICARD '!=' PICARD ']'
+ '[' '!' -s /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/src/variant_calling.Oct2016/sample.sampleinfo ']'
+ '[' 1 /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/src/variant_calling.Oct2016/sample.sampleinfo -lt 1 ']'
/home/groups/hpcbio_shared/azza/H3A_NextGen_assessment_set3/Workflow/BW_VariantCalling/start.sh: line 159: [: too many arguments
+ set +x


########################################################################################
###########                      checking PBS params                      ##################
########################################################################################


++ expr 2
+ '[' 2 -lt 1 ']'
++ expr 1
+ '[' 1 -lt 1 ']'
++ expr 7
+ '[' 7 -lt 1 ']'
+ set +x


########################################################################################
###########                      checking tools                       ##################
########################################################################################


+ hash /home/apps/samblaster/samblaster-0.1.22/bin/samblaster
+ '[' '!' -d /home/apps/picard-tools/picard-tools-2.4.1 ']'
+ '[' '!' -d /home/apps/gatk/gatk-3.6 ']'
+ hash /home/apps/samtools/samtools-1.3.1/bin/samtools
+ '[' '!' -d /home/apps/bwa/bwa-0.7.15 ']'
+ '[' '!' -d /home/apps/java/jdk1.8.0_65/bin ']'
+ '[' '!' -d /home/apps/novocraft/novocraft-3.02 ']'
+ '[' '!' -d /home/apps/fastqc/fastqc-0.11.4 ']'
+ set +x


########################################################################################
#############  Everything seems ok. Now setup/configure output folders and files   #########
########################################################################################


+ '[' '!' -d /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7 ']'
+ mkdir /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7
+ setfacl -Rm g::rwx /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7
+ setfacl -Rm d:g::rwx /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7
+ '[' '!' -d /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs ']'
+ mkdir -p /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs
+ '[' '!' -d /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/delivery/docs ']'
+ mkdir -p /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/delivery/docs
+ '[' '!' -d /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/delivery/jointVCFs ']'
+ mkdir -p /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/delivery/jointVCFs
++ cp /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/src/variant_calling.Oct2016/sample.runfile /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/delivery/docs/runfile.txt
++ cp /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/src/variant_calling.Oct2016/sample.sampleinfo /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/delivery/docs/sampleinfo.txt
+ truncate -s 0 /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/delivery/docs/Summary.Report
+ truncate -s 0 /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/delivery/docs/QC_test_results.txt
+ runfile=/home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/delivery/docs/runfile.txt
+ TopOutputLogs=/home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs
+ truncate -s 0 /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/pbs.ALIGN
+ truncate -s 0 /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/pbs.summary_dependencies
+ generic_qsub_header=/home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/qsubGenericHeader
+ truncate -s 0 /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/qsubGenericHeader
+ echo '#!/bin/bash'
+ echo '#PBS -q default'
+ echo '#PBS -m ae'
+ echo '#PBS -M aeahmed@illinois.edu'
+ echo '#PBS -l nodes=1:ppn=23'
+ echo '#PBS -l walltime=72:00:00'
+ set +x
##### let's check that it worked and that the file was created                     ####
+ '[' '!' -s /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/qsubGenericHeader ']'
+ set +x


########################################################################################
################### Documenting progress on redmine with this message ##################
########################################################################################
##### the first part of the Report also needs to be stored in Summary.Report      ######
########################################################################################


+++ date
++ echo Fri Oct 14 12:19:12 CDT 2016
+ MSG='Variant calling workflow  started by username:hpcbiointern01 at: Fri Oct 14 12:19:12 CDT 2016'
+ LOGS='Documentation about this run such as config files and results of QC tests will be placed in this folder:\n\n/home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/delivery/docs/ \n\n'
+ echo -e 'Variant calling workflow  started by username:hpcbiointern01 at: Fri Oct 14 12:19:12 CDT 2016\n\nDetails:\n\nDocumentation about this run such as config files and results of QC tests will be placed in this folder:\n\n/home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/delivery/docs/ \n\n'
+ mail -s '[Task #5747]' hpcbio-redmine@igb.illinois.edu,aeahmed@illinois.edu
+ echo -e 'Variant calling workflow  started by username:hpcbiointern01 at: Fri Oct 14 12:19:12 CDT 2016\n\nDetails:\n\nDocumentation about this run such as config files and results of QC tests will be placed in this folder:\n\n/home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/delivery/docs/ \n\n'
+ set +x


########################################################################################
########################################################################################
########################################################################################
#####                               MAIN LOOP STARTS HERE                      #########
########################################################################################
#####  Trimming has been performed already                                     #########
#####  Alignment-dedup analysis: one qsub per sample                           #########
#####  Realignment-recalibration-variantCalling: 25 qsubs per sample, one per chr   ####
########################################################################################


+ read sampleLine
++ expr 321
+ '[' 321 -lt 1 ']'
+ echo -e '\n\n########################################################################################'


########################################################################################
+ echo -e '#####         Processing next line synthetic.Oct_chr123.16 /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/data/reads/synthetic.Oct_chr123.16/sample.1/Chunks/synthetic.Oct_chr123.16_read1.fq /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/data/reads/synthetic.Oct_chr123.16/sample.1/Chunks/synthetic.Oct_chr123.16_read2.fq                                ##########'
#####         Processing next line synthetic.Oct_chr123.16 /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/data/reads/synthetic.Oct_chr123.16/sample.1/Chunks/synthetic.Oct_chr123.16_read1.fq /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/data/reads/synthetic.Oct_chr123.16/sample.1/Chunks/synthetic.Oct_chr123.16_read2.fq                                ##########
+ echo -e '##### col1=sample_name col2=read1 col3=read2  including full paths            ##########'
##### col1=sample_name col2=read1 col3=read2  including full paths            ##########
+ echo -e '##### sample_name will be used for directory namas and in RG line of BAM files##########'
##### sample_name will be used for directory namas and in RG line of BAM files##########
+ echo -e '########################################################################################\n\n'
########################################################################################


+ set -x
++ echo 'synthetic.Oct_chr123.16 /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/data/reads/synthetic.Oct_chr123.16/sample.1/Chunks/synthetic.Oct_chr123.16_read1.fq /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/data/reads/synthetic.Oct_chr123.16/sample.1/Chunks/synthetic.Oct_chr123.16_read2.fq'
++ cut -d ' ' -f 1
+ sample=synthetic.Oct_chr123.16
++ echo 'synthetic.Oct_chr123.16 /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/data/reads/synthetic.Oct_chr123.16/sample.1/Chunks/synthetic.Oct_chr123.16_read1.fq /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/data/reads/synthetic.Oct_chr123.16/sample.1/Chunks/synthetic.Oct_chr123.16_read2.fq'
++ cut -d ' ' -f 2
+ FQ_R1=/home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/data/reads/synthetic.Oct_chr123.16/sample.1/Chunks/synthetic.Oct_chr123.16_read1.fq
++ echo 'synthetic.Oct_chr123.16 /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/data/reads/synthetic.Oct_chr123.16/sample.1/Chunks/synthetic.Oct_chr123.16_read1.fq /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/data/reads/synthetic.Oct_chr123.16/sample.1/Chunks/synthetic.Oct_chr123.16_read2.fq'
++ cut -d ' ' -f 3
+ FQ_R2=/home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/data/reads/synthetic.Oct_chr123.16/sample.1/Chunks/synthetic.Oct_chr123.16_read2.fq
++ expr 23
+ '[' 23 -lt 1 ']'
++ expr 148
+ '[' 148 -lt 1 ']'
+ '[' '!' -s /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/data/reads/synthetic.Oct_chr123.16/sample.1/Chunks/synthetic.Oct_chr123.16_read1.fq ']'
++ expr 148
+ '[' 148 -lt 1 ']'
+ '[' '!' -s /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/data/reads/synthetic.Oct_chr123.16/sample.1/Chunks/synthetic.Oct_chr123.16_read2.fq ']'
+ set +x


########################################################################################
###   Everything seems in order. Now creating folders where results will go  ###########
########################################################################################


+ '[' -d /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/synthetic.Oct_chr123.16 ']'
+ mkdir -p /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/synthetic.Oct_chr123.16/align
+ mkdir -p /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/synthetic.Oct_chr123.16/realign
+ mkdir -p /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/synthetic.Oct_chr123.16/variant
+ mkdir -p /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/delivery/synthetic.Oct_chr123.16
+ set +x


########################################################################################
####   Launching Alignment script for SAMPLE synthetic.Oct_chr123.16 with R1=/home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/data/reads/synthetic.Oct_chr123.16/sample.1/Chunks/synthetic.Oct_chr123.16_read1.fq R2=/home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/data/reads/synthetic.Oct_chr123.16/sample.1/Chunks/synthetic.Oct_chr123.16_read2.fq     ##########
########################################################################################


+ qsub1=/home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/qsub.alignDedup.synthetic.Oct_chr123.16
+ cat /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/qsubGenericHeader
+ echo '#PBS -N alignDedup.synthetic.Oct_chr123.16'
+ echo '#PBS -o /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/log.alignDedup.synthetic.Oct_chr123.16.ou'
+ echo '#PBS -e /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/log.alignDedup.synthetic.Oct_chr123.16.in'
+ echo '/home/groups/hpcbio_shared/azza/H3A_NextGen_assessment_set3/Workflow/BW_VariantCalling/align_dedup.sh /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/delivery/docs/runfile.txt synthetic.Oct_chr123.16 /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/data/reads/synthetic.Oct_chr123.16/sample.1/Chunks/synthetic.Oct_chr123.16_read1.fq /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/data/reads/synthetic.Oct_chr123.16/sample.1/Chunks/synthetic.Oct_chr123.16_read2.fq /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/log.alignDedup.synthetic.Oct_chr123.16.in /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/log.alignDedup.synthetic.Oct_chr123.16.ou /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/qsub.alignDedup.synthetic.Oct_chr123.16'
++ chmod a+r /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/qsub.alignDedup.synthetic.Oct_chr123.16
++ qsub /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/qsub.alignDedup.synthetic.Oct_chr123.16
+ alignjobid=2127396.biocluster.igb.illinois.edu
++ qhold -h u 2127396.biocluster.igb.illinois.edu
+ echo 2127396.biocluster.igb.illinois.edu
+ echo 2127396.biocluster.igb.illinois.edu
++ date
+ echo Fri Oct 14 12:19:13 CDT 2016
Fri Oct 14 12:19:13 CDT 2016
++ expr 35
+ '[' 35 -lt 1 ']'
+ set +x


#######  this jobid=2127396.biocluster.igb.illinois.edu will be used to hold execution of realign_varcall.sh     ########


+ '[' COMPLETE == ALIGNMENT -o COMPLETE == ALIGN -o COMPLETE == ALIGN_ONLY ']'
+ set +x


########################################################################################
####   Next loop2 for Launching Realign-Vcall script for SAMPLE synthetic.Oct_chr123.16 on all chr     #####
########################################################################################


++ echo 2127396.biocluster.igb.illinois.edu
++ cut -d . -f 1
+ alnjobid=2127396
+ truncate -s 0 /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/pbs.VCALL.synthetic.Oct_chr123.16
+ for chr in '$indices'
+ set +x


########################################################################################
####   Realign-Vcall script for SAMPLE synthetic.Oct_chr123.16 chr=chr1                              #######
########################################################################################


+ qsub1=/home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/qsub.realVcall.synthetic.Oct_chr123.16.chr1
+ cat /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/qsubGenericHeader
+ echo '#PBS -N realVcall.synthetic.Oct_chr123.16.chr1'
+ echo '#PBS -o /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/log.realVcall.synthetic.Oct_chr123.16.chr1.ou'
+ echo '#PBS -e /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/log.realVcall.synthetic.Oct_chr123.16.chr1.in'
+ echo '#PBS -W depend=afterok:2127396'
+ echo '/home/groups/hpcbio_shared/azza/H3A_NextGen_assessment_set3/Workflow/BW_VariantCalling/realign_varcall_by_chr.sh /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/delivery/docs/runfile.txt synthetic.Oct_chr123.16 chr1 /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/log.realVcall.synthetic.Oct_chr123.16.chr1.in /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/log.realVcall.synthetic.Oct_chr123.16.chr1.ou /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/qsub.realVcall.synthetic.Oct_chr123.16.chr1'
++ chmod a+r /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/qsub.realVcall.synthetic.Oct_chr123.16.chr1
++ qsub /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/qsub.realVcall.synthetic.Oct_chr123.16.chr1
+ realjobid=2127397.biocluster.igb.illinois.edu
+ echo 2127397.biocluster.igb.illinois.edu
++ date
+ echo Fri Oct 14 12:19:13 CDT 2016
Fri Oct 14 12:19:13 CDT 2016
++ expr 35
+ '[' 35 -lt 1 ']'
+ for chr in '$indices'
+ set +x


########################################################################################
####   Realign-Vcall script for SAMPLE synthetic.Oct_chr123.16 chr=chr2                              #######
########################################################################################


+ qsub1=/home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/qsub.realVcall.synthetic.Oct_chr123.16.chr2
+ cat /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/qsubGenericHeader
+ echo '#PBS -N realVcall.synthetic.Oct_chr123.16.chr2'
+ echo '#PBS -o /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/log.realVcall.synthetic.Oct_chr123.16.chr2.ou'
+ echo '#PBS -e /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/log.realVcall.synthetic.Oct_chr123.16.chr2.in'
+ echo '#PBS -W depend=afterok:2127396'
+ echo '/home/groups/hpcbio_shared/azza/H3A_NextGen_assessment_set3/Workflow/BW_VariantCalling/realign_varcall_by_chr.sh /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/delivery/docs/runfile.txt synthetic.Oct_chr123.16 chr2 /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/log.realVcall.synthetic.Oct_chr123.16.chr2.in /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/log.realVcall.synthetic.Oct_chr123.16.chr2.ou /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/qsub.realVcall.synthetic.Oct_chr123.16.chr2'
++ chmod a+r /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/qsub.realVcall.synthetic.Oct_chr123.16.chr2
++ qsub /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/qsub.realVcall.synthetic.Oct_chr123.16.chr2
+ realjobid=2127398.biocluster.igb.illinois.edu
+ echo 2127398.biocluster.igb.illinois.edu
++ date
+ echo Fri Oct 14 12:19:13 CDT 2016
Fri Oct 14 12:19:13 CDT 2016
++ expr 35
+ '[' 35 -lt 1 ']'
+ for chr in '$indices'
+ set +x


########################################################################################
####   Realign-Vcall script for SAMPLE synthetic.Oct_chr123.16 chr=chr3                              #######
########################################################################################


+ qsub1=/home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/qsub.realVcall.synthetic.Oct_chr123.16.chr3
+ cat /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/qsubGenericHeader
+ echo '#PBS -N realVcall.synthetic.Oct_chr123.16.chr3'
+ echo '#PBS -o /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/log.realVcall.synthetic.Oct_chr123.16.chr3.ou'
+ echo '#PBS -e /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/log.realVcall.synthetic.Oct_chr123.16.chr3.in'
+ echo '#PBS -W depend=afterok:2127396'
+ echo '/home/groups/hpcbio_shared/azza/H3A_NextGen_assessment_set3/Workflow/BW_VariantCalling/realign_varcall_by_chr.sh /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/delivery/docs/runfile.txt synthetic.Oct_chr123.16 chr3 /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/log.realVcall.synthetic.Oct_chr123.16.chr3.in /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/log.realVcall.synthetic.Oct_chr123.16.chr3.ou /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/qsub.realVcall.synthetic.Oct_chr123.16.chr3'
++ chmod a+r /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/qsub.realVcall.synthetic.Oct_chr123.16.chr3
++ qsub /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/qsub.realVcall.synthetic.Oct_chr123.16.chr3
+ realjobid=2127399.biocluster.igb.illinois.edu
+ echo 2127399.biocluster.igb.illinois.edu
++ date
+ echo Fri Oct 14 12:19:13 CDT 2016
Fri Oct 14 12:19:13 CDT 2016
++ expr 35
+ '[' 35 -lt 1 ']'
+ set +x


########################################################################################
####   Out of loop2. Now launching merge_vcf script for SAMPLE synthetic.Oct_chr123.16       ##########
########################################################################################


++ cat /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/pbs.VCALL.synthetic.Oct_chr123.16
++ sed 's/\.[a-z]*//g'
++ tr '\n' :
+ vcalljobids=2127397:2127398:2127399:
+ echo -e '\n\n### this list of jobids=[2127397:2127398:2127399:] will be used to hold execution of merge_vcf.sh #####\n\n'


### this list of jobids=[2127397:2127398:2127399:] will be used to hold execution of merge_vcf.sh #####


+ qsub1=/home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/qsub.merge.synthetic.Oct_chr123.16
+ cat /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/qsubGenericHeader
+ echo '#PBS -N merge.synthetic.Oct_chr123.16'
+ echo '#PBS -o /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/log.merge.synthetic.Oct_chr123.16.ou'
+ echo '#PBS -e /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/log.merge.synthetic.Oct_chr123.16.in'
+ echo '#PBS -W depend=afterok:2127397:2127398:2127399:'
+ echo '/home/groups/hpcbio_shared/azza/H3A_NextGen_assessment_set3/Workflow/BW_VariantCalling/merge_vcf.sh /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/delivery/docs/runfile.txt synthetic.Oct_chr123.16 /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/log.mergeVcf.synthetic.Oct_chr123.16.in /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/log.merge.synthetic.Oct_chr123.16.ou /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/qsub.merge.synthetic.Oct_chr123.16'
++ chmod a+r /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/qsub.merge.synthetic.Oct_chr123.16
++ qsub /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/qsub.merge.synthetic.Oct_chr123.16
+ mergejobid=2127400.biocluster.igb.illinois.edu
+ echo 2127400.biocluster.igb.illinois.edu
++ date
+ echo Fri Oct 14 12:19:13 CDT 2016
Fri Oct 14 12:19:13 CDT 2016
++ expr 35
+ '[' 35 -lt 1 ']'
++ qrls -h u 2127396.biocluster.igb.illinois.edu
+ read sampleLine
+ set +x


########################################################################################
####    Now launching joint_genotyping script for all SAMPLEs: each 200 together        ##########
########################################################################################


++ cat /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/pbs.summary_dependencies
++ sed 's/\.[a-z]*//g'
++ tr '\n' :
+ mergedjobsids=2127396:2127400:
+ echo -e '\n\n### this list of jobids=[2127396:2127400:] will be used to hold execution of joint_vcfs.sh #####\n\n'


### this list of jobids=[2127396:2127400:] will be used to hold execution of joint_vcfs.sh #####


+ qsub1=/home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/qsub.jointcall
+ cat /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/qsubGenericHeader
+ echo '#PBS -N JointCalling'
+ echo '#PBS -o /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/log.jointcall.ou'
+ echo '#PBS -e /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/log.jointcall.in'
+ echo '#PBS -W depend=afterok:2127396:2127400:'
+ echo '/home/groups/hpcbio_shared/azza/H3A_NextGen_assessment_set3/Workflow/BW_VariantCalling/joint_vcf.sh /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/delivery/docs/runfile.txt /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/log.jointcall.in /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/log.jointcall.ou /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/qsub.jointcall'
++ chmod a+r /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/qsub.jointcall
++ qsub /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/qsub.jointcall
+ jointcalljobid=2127401.biocluster.igb.illinois.edu
+ echo 2127401.biocluster.igb.illinois.edu
++ date
+ echo Fri Oct 14 12:19:13 CDT 2016
Fri Oct 14 12:19:13 CDT 2016
++ expr 35
+ '[' 35 -lt 1 ']'
+ set +x


########################################################################################
########################################################################################
#################           MAIN LOOP ENDS HERE                  #######################
########################################################################################
########################################################################################
#################     Now, we need to generate summary           #######################
########################################################################################
########################################################################################


++ cat /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/pbs.summary_dependencies
++ sed 's/\.[a-z]*//g'
++ tr '\n' :
+ alljobids=2127396:2127400:2127401:
+ set +x


### this list of jobids=[2127396:2127400:2127401:] will be used to hold execution of summary.sh #####


+ qsub2=/home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/qsub.summary
+ cat /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/qsubGenericHeader
+ echo '#PBS -N Summary_vcall'
+ echo '#PBS -o /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/log.summary.ou'
+ echo '#PBS -e /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/log.summary.in'
+ echo '#PBS -W depend=afterok:2127396:2127400:2127401: '
+ echo '/home/groups/hpcbio_shared/azza/H3A_NextGen_assessment_set3/Workflow/BW_VariantCalling/summary.sh /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/delivery/docs/runfile.txt /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/log.summary.in /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/log.summary.ou /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/qsub.summary'
++ chmod a+r /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/qsub.summary
++ qsub /home/groups/hpcbio_shared/azza/human_WES_multi_sample_synthetic/results/run7/logs/qsub.summary
+ lastjobid=2127402.biocluster.igb.illinois.edu
+ echo 2127402.biocluster.igb.illinois.edu
++ date
+ echo Fri Oct 14 12:19:13 CDT 2016
Fri Oct 14 12:19:13 CDT 2016
++ expr 35
+ '[' 35 -lt 1 ']'
++ qrls -h u 2127396.biocluster.igb.illinois.edu
+ set +x


########################################################################################
##############                 EXITING NOW                            ##################
########################################################################################


